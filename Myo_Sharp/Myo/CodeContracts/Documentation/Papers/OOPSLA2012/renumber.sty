\ifx\documentclass\undefined\else%\ProvidesPackage{renumber}[1998/02/24 LaTeX2e package (equation renumbering)]\ProvidesPackage{renumber}[2008/12/10 LaTeX2e package (P. Cousot, equation renumbering)]\fi%% renumber.sty (to be used with eqn/array+.sty, or else suppress \def\@@eqncrmulticolumns{...}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% EQUATION NUMBER FOR EQUATION AND EQNARRAY ENVIRONMENTS (\renumber{text} places 'text' as % equation number in equation and eqnarray environments, so that \nonumber is \renumber{})%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%----------------------------------|------------------------------------------------------------- % Par exemple:                     |       produit:%----------------------------------|------------------------------------------------------------- % \begin{eqnarray}                 |% x&=&0\nonumber\\                 |               x = 0      % x&=&1\\                          |               x = 1                      (1)% x&=&2\renumber{XXX}\label{x}\\   |               x = 2                      XXX% x&=&3\nonumber\\                 |               x = 3% x&=&4                            |               x = 4                      (2)% \end{eqnarray}                   |% \ref{x}                          |        XXX%----------------------------------|------------------------------------------------------------- \newif\ifre@eqnnum\re@eqnnumfalse\newbox\@boxeqnnum\def\renumber#1{\global\re@eqnnumtrue\global\setbox\@boxeqnnum\hbox{#1}\def\@currentlabel{#1}%\def\cref@currentlabel{#1}% for cleverref}% for equation:\def\endequation{\ifre@eqnnum\eqno\box\@boxeqnnum\global\re@eqnnumfalse\addtocounter{equation}{-1}\else\eqno\@eqnnum\fi% $$ BRACE MATCHING HACK$$\global\@ignoretrue}% for eqnarray:\def\@@eqncr{\let\@tempa\relax     \ifcase\@eqcnt \def\@tempa{& & &}\or \def\@tempa{& &}       \else \def\@tempa{&}\fi      \@tempa \if@eqnsw\ifre@eqnnum\box\@boxeqnnum\global\re@eqnnumfalse\else\@eqnnum\stepcounter{equation}\fi\fi     \global\@eqnswtrue\global\@eqcnt\z@\cr}% for eqntabular.sty:\def\@equationnumber{\if@eqnsw%\ifre@eqnnum\box\@boxeqnnum\global\re@eqnnumfalse\else\@eqnnum\stepcounter{equation}\fi\fi}% for left renumbering:\ifx\documentclass\undefined\def\leqno#1{\hbox to .01pt{}\rlap{\rm \hskip -\displaywidth#1}}\else\def\leqno#1{\hb@xt@.01\p@{}%\rlap{\normalfont\normalcolor  \hskip -\displaywidth#1}}%\fi\endinput%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%