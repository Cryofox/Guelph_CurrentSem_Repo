% this is file eqntabular.sty%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\ProvidesPackage{eqntabular}[1998/10/14 LaTeX2e package (eqnarray in tabular style)]%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                                                                                                   %% eqntabular & eqntabular* LaTeX environments (derived from the code of eqnarray by successive      %% modifications inspired by tabular).                                                               %%                                                                                                   %% P. Cousot. cousot@dmi.ens.fr                                         -- version 1.0 -- 20/8/92 -- % %                                                                                                   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% EXAMPLE:% % \begin{eqntabular}[cl]{|r@{=}c||lc|}  |                                              %  AAA & BBB & CCC & DDD \\\hline       |  (n)        | AAA=BBB || CCC DDD |            %   X  &  Y  &  Z  &                    |             |---------||---------|% \end{eqntabular}                      |  (n+1)      |   X= Y  || Z       |       %% ENVIRONMENTS:%% eqntabular           similar to eqnarray, except it can have from 1 to 10 columns of%                      different styles (not counting the |, @{...} and h columns).% eqntabular*          idem, but produces no equation numbers.%% OPTIONAL STYLE:%% cr                   table is centered with right equation numbering (default).% cl                   table is centered with left equation numbering.% fr                   table is flushed right (with left equation numbering).% fl                   table is flushed left (with right equation numbering).% h                    intercolumn fill space specified explicitly.% \eqntabularstyle{s}  defines s to be the default style (else cr is the default).%% PREAMBLE:%% l                    a column of left-aligned math items.% c                    a column of centered math items.% r                    a column of right-aligned math items.% @{text}              insert 'text' in every row in horizontal mode (@{$formula$} for math mode), %                      \arraycolsep spacing on adjacent rows is suppressed (can be reintroduced%                      using @{\hskip\arraycolsep text\hskip\arraycolsep}).             % p{wd}[s]             typeset each item of the column in a parbox of width wd (= Pt{wd})*.% Pt{wd}[s]            typeset each item of the column in a top aligned parbox of width wd*.% Pc{wd}[s]            typeset each item of the column in a centered parbox of width wd*.% Pb{wd}[s]            typeset each item of the column in a bottom aligned parbox of width wd*.%                      *(no \\ can appear in the item except if included inside an explicit parbox.)%                      s is an optional command (such \small\tt) included at beginning of parbox.% |                    a vectical line the full height and depth of the table.% L                    typeset each item of the column in an flushed-left hbox.% C                    typeset each item of the column in an centered hbox.% R                    typeset each item of the column in an flushed-right hbox.%                      (use p{...} if the column is too large with L, C or R).% h                    introduces \hfill space before first column, between columns or after last %                      column. For example [h]{h...h} = [cr]{...}, [h]{...h} = [fl]{...}.%% ROWS:%% &                    between items in different columns (can be omitted for empty last columns).% \nonumber            line without equation number.% \\                   next line.% \\[len]              adds extra vertical space of length len.% \\*[len]             adds extra vertical space of length len, page break inhibited.% \\<label>            adds "label" (e.g. (\alpha)) in place of the equation number.% \\*<label>             "% \\*<label>[len]        "% \hline               (after preamble or \\) draws a horizontal line extending the full table width.% \vline               a vertical line extending the height and depth of the item (not that of the%                      row).% \cline{c1-c2}        (after preamble or \\) draws a horizontal line extending from column c1 to c2.% \lefteqn{formula}    prints formula in display math style but pretends that it has zero width.%% STYLE PARAMETERS:%% \colsep{x} = _x_     where _ is the space skipped on both sides of a column.% \arraycolsep         \hskip \arraycolsep is skipped on both sides of a column (except if enclosed%                      by @{...}), fixed in LaTeX style file.% \arrayrulewidth      the thickness of horizontal or vertical lines, fixed in LaTeX style file.% \doublerulesep       the width of the space between two consecutive horizontal or vertical lines%                      (\hline\hline... or ||...), fixed in LaTeX style file.% \arraystretch        coefficient multiplying the height and depth of strut added to each item of %                      each row (\defarraystretch{1.0} by default). The strut has a height and depth %                      of a {\normalfont\@currsize\rmfamily (}. The equation strut has the greatest %                      height and depth of the row items, including that of the text in @{...} %                      augmented by the extra vertical space len and the jot interline.% \defarraystretch     to define \arraystretch (and the corresponding strut), including for %                      redefinitions within the table.% \jot                 length of the extra vertical space between multiline equations added to the%                      normal line skip (TeX standard \jot=3pt is added to the depth of the strut %                      by default). Can be changed within the table by \global\jot=<dimen>.% \showinterlineskip   |  to (un)show the struts added to each row. Their height and depth can be % \unshowinterlineskip \  augmented or reduced by \defarraystretch and so for their additional depth   %                       > by modifying \jot. The visualisation shows the height, the depth, the extra %                      /  vertical space len and the jot, in that order. The strut has no effect  %                      |  if \defarraystretch{0} and \jot=0pt. Manual adjustments may be necessary%                      |  for obtaining a perfect vertical interline spacing.% \eqntabularcolor     color of the equation numbers (default: black).%% ITEMS:% % \eqntabularitem{$\bullet$}  Itemize the current line with $\bullet$ flushed left to the left margin%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% \colsep{x} = _x_ (ou _ est l'espace entre deux colonnes de tableau)%\def\colsep#1{\hskip2\arraycolsep{#1}\hskip2\arraycolsep\ignorespaces}%\def\@void{}%\newif\if@hlinefirst% to know if \@newhline used after preamble (no page break allowed).\newif\if@eqnhline% to know if \@newhline after another \@newhline (for \doublerulesep vertical space)%\newdimen\@heightitem % maximum height of the items so forth in the current line\newdimen\@depthitem % maximum depth of the items so forth in the current line\newdimen\@heightat \@heightat=0pt % height of the @{...} in preamble\newdimen\@depthat \@depthat=0pt % depth of the @{...}s in preamble%\newbox\@itembox % to put the current item for measuring its height and depth\newbox\@strutbox %% \setbox\@strutbox=\hbox{\normalfont\@currsize\rmfamily (}: height and depth of equation % number for stretching by \arraystretch\def\set@strutbox{\setbox\@strutbox=\hbox{\normalfont\@currsize\rmfamily (}%%\expandafter\typeout\expandafter{\the\ht\@strutbox*h**}%%\expandafter\typeout\expandafter{\the\dp\@strutbox*d**}%}%\newbox\@itemleftstrutbox % strut box on top left of item for upper line skip\newbox\@itemrightstrutbox % strut box on bottom right of item for lower line skip\newbox\@itemleftcenterstrutbox % strut box on top left of centered item for upper line skip\newbox\@itemrightcenterstrutbox % strut box on bottom right of item centered for equal lower line skip%\def\@setitemboxes{% reset strut boxes upon initialization or after modification of \arraystretch\set@strutbox%\setbox\@itemleftstrutbox=\hbox{\vrule height\arraystretch\ht\@strutbox depth0pt width\@widtharstrutbox}%\@tempdima=\lineskip%\advance\@tempdima by\arraystretch\dp\@strutbox%\setbox\@itemrightstrutbox=\hbox{\vrule height0pt depth\@tempdima width\@widtharstrutbox}%\@tempdima=\lineskip%\advance\@tempdima by\arraystretch\ht\@strutbox%\advance\@tempdima by-\ht\@strutbox%\advance\@tempdima by\arraystretch\dp\@strutbox%\advance\@tempdima by-\dp\@strutbox%\divide\@tempdima by2%\@tempdimb=\@tempdima%\advance\@tempdima by\ht\@strutbox%\advance\@tempdimb by\dp\@strutbox%\setbox\@itemleftcenterstrutbox=\hbox{\vrule height\@tempdima depth0pt width\@widtharstrutbox}%\setbox\@itemrightcenterstrutbox=\hbox{\vrule height0pt depth\@tempdimb width\@widtharstrutbox}%}% the struts have a width \@widtharstrutbox which may be non zero to show them\def\showinterlineskip{\global\def\@widtharstrutbox{1pt}\@setitemboxes}%%\def\unshowinterlineskip{\global\def\@widtharstrutbox{0pt}\@setitemboxes}%\global\def\@widtharstrutbox{0pt}%\unshowinterlineskip%\def\defarraystretch#1{\def\arraystretch{#1}\@setitemboxes}%%\def\@initline{% executed at the begining of a line\set@strutbox%\global\@eqnhlinefalse % next \hline will not follow an \hline\global\@hlinefirstfalse % next \hline will not follow the preamble\global\@heightitem=\arraystretch\ht\@strutbox % items have at least the stretched height \global\@depthitem=\arraystretch\dp\@strutbox % and depth of the equation number}% 1) an item goes to \@itembox 2) its dimensions is measured (for adjusting current maximum height\def\@putitem{% and depth 3) item goes into current line. \@putitem does 2) and 3)\ifdim\@heightitem<\ht\@itembox\global\@heightitem=\ht\@itembox\fi%\ifdim\@depthitem<\dp\@itembox\global\@depthitem=\dp\@itembox\fi%\ifmmode\copy\@itembox\else\unhcopy\@itembox\fi%}%%% chose style of table%\def\eqntabularcolor{red}%%\def\@eqntabularstyle[#1#2]{%\if f#1 \if l#2 % fl=flushed left\global\def\@lefttabskip{\z@}%\global\def\@eqntabhalign{\noexpand\tabskip\@lefttabskip\halign to \displaywidth\bgroup}%\global\def\@righttabskip{\@centering}%\else\if r#2 % fr=flushed right\global\def\@lefttabskip{\@centering}%\global\def\@eqntabhalign{\def\@eqnnum{\hbox to%.01pt{}\rlap{\normalfont\@currsize\rmfamily\color{\eqntabularcolor}\hskip%-\displaywidth(\theequation)}}\noexpand\tabskip\@lefttabskip\halign to \displaywidth\bgroup}%\global\def\@righttabskip{\z@}%\else%\@latexerr{Incorrect option in eqntabular}{eqntabular option should be [fl] or [fr]}%\fi\fi%\else \if c#1 \if r#2 % cr=centered right\global\def\@lefttabskip{\@centering}%\global\def\@eqntabhalign{\noexpand\tabskip\@lefttabskip\halign to \displaywidth\bgroup}%\global\def\@righttabskip{\@centering}%\else\if l#2 % centered left\global\def\@lefttabskip{\@centering}%\global\def\@eqntabhalign{\def\@eqnnum{\hbox to %.01pt{}\rlap{\normalfont\@currsize\rmfamily\color{\eqntabularcolor}\hskip %-\displaywidth(\theequation)}}\noexpand\tabskip\@lefttabskip\halign to \displaywidth\bgroup}%\global\def\@righttabskip{\@centering}%\else%\@latexerr{Incorrect option in eqntabular}{eqntabular option should be [cr] or [cl]}%\fi\fi%\else\if h#1 % explicit tabskips\ifx\@void#2\else\@warning{... ignored in [h...] eqntabular option}\fi%\global\def\@lefttabskip{\z@}%\global\def\@eqntabhalign{\noexpand\tabskip\@lefttabskip\halign to \displaywidth\bgroup}%\global\def\@righttabskip{\z@}%\else%\@latexerr{Incorrect option in eqntabular}{eqntabular option should be [cr], [cl], [fl], [fr] or [h]}%\fi\fi\fi}%%\def\@@@preambleone{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preambletwo{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preamblethree{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preamblefour{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preamblefive{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preamblesix{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preambleseven{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname% &\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname% &\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname%&\global\@eqcnt6   \tabskip\csname t@bsk6\endcsname\csname l@sep6\endcsname\csname l@fil6\endcsname{##}\csname r@fil6\endcsname\csname r@sep6\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preambleeight{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname% &\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname%&\global\@eqcnt6   \tabskip\csname t@bsk6\endcsname\csname l@sep6\endcsname\csname l@fil6\endcsname{##}\csname r@fil6\endcsname\csname r@sep6\endcsname%&\global\@eqcnt7   \tabskip\csname t@bsk7\endcsname\csname l@sep7\endcsname\csname l@fil7\endcsname{##}\csname r@fil7\endcsname\csname r@sep7\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preamblenine{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname%&\global\@eqcnt6   \tabskip\csname t@bsk6\endcsname\csname l@sep6\endcsname\csname l@fil6\endcsname{##}\csname r@fil6\endcsname\csname r@sep6\endcsname%&\global\@eqcnt7   \tabskip\csname t@bsk7\endcsname\csname l@sep7\endcsname\csname l@fil7\endcsname{##}\csname r@fil7\endcsname\csname r@sep7\endcsname%&\global\@eqcnt8   \tabskip\csname t@bsk8\endcsname\csname l@sep8\endcsname\csname l@fil8\endcsname{##}\csname r@fil8\endcsname\csname r@sep8\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preambleten{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname%&\global\@eqcnt6   \tabskip\csname t@bsk6\endcsname\csname l@sep6\endcsname\csname l@fil6\endcsname{##}\csname r@fil6\endcsname\csname r@sep6\endcsname%&\global\@eqcnt7   \tabskip\csname t@bsk7\endcsname\csname l@sep7\endcsname\csname l@fil7\endcsname{##}\csname r@fil7\endcsname\csname r@sep7\endcsname%&\global\@eqcnt8   \tabskip\csname t@bsk8\endcsname\csname l@sep8\endcsname\csname l@fil8\endcsname{##}\csname r@fil8\endcsname\csname r@sep8\endcsname%&\global\@eqcnt9   \tabskip\csname t@bsk9\endcsname\csname l@sep9\endcsname\csname l@fil9\endcsname{##}\csname r@fil9\endcsname\csname r@sep9\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preambleeleven{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname%&\global\@eqcnt6   \tabskip\csname t@bsk6\endcsname\csname l@sep6\endcsname\csname l@fil6\endcsname{##}\csname r@fil6\endcsname\csname r@sep6\endcsname%&\global\@eqcnt7   \tabskip\csname t@bsk7\endcsname\csname l@sep7\endcsname\csname l@fil7\endcsname{##}\csname r@fil7\endcsname\csname r@sep7\endcsname%&\global\@eqcnt8   \tabskip\csname t@bsk8\endcsname\csname l@sep8\endcsname\csname l@fil8\endcsname{##}\csname r@fil8\endcsname\csname r@sep8\endcsname%&\global\@eqcnt9   \tabskip\csname t@bsk9\endcsname\csname l@sep9\endcsname\csname l@fil9\endcsname{##}\csname r@fil9\endcsname\csname r@sep9\endcsname%&\global\@eqcnt10  \tabskip\csname t@bsk10\endcsname\csname l@sep10\endcsname\csname l@fil10\endcsname{##}\csname r@fil10\endcsname\csname r@sep10\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preambletwelve{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname%&\global\@eqcnt6   \tabskip\csname t@bsk6\endcsname\csname l@sep6\endcsname\csname l@fil6\endcsname{##}\csname r@fil6\endcsname\csname r@sep6\endcsname%&\global\@eqcnt7   \tabskip\csname t@bsk7\endcsname\csname l@sep7\endcsname\csname l@fil7\endcsname{##}\csname r@fil7\endcsname\csname r@sep7\endcsname%&\global\@eqcnt8   \tabskip\csname t@bsk8\endcsname\csname l@sep8\endcsname\csname l@fil8\endcsname{##}\csname r@fil8\endcsname\csname r@sep8\endcsname%&\global\@eqcnt9   \tabskip\csname t@bsk9\endcsname\csname l@sep9\endcsname\csname l@fil9\endcsname{##}\csname r@fil9\endcsname\csname r@sep9\endcsname%&\global\@eqcnt10  \tabskip\csname t@bsk10\endcsname\csname l@sep10\endcsname\csname l@fil10\endcsname{##}\csname r@fil10\endcsname\csname r@sep10\endcsname%&\global\@eqcnt11  \tabskip\csname t@bsk11\endcsname\csname l@sep11\endcsname\csname l@fil11\endcsname{##}\csname r@fil11\endcsname\csname r@sep11\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%\def\@@@preamblethirteen{$$\@eqntabhalign%\@initline\tabskip\csname t@bsk0\endcsname\csname l@sep0\endcsname\csname l@fil0\endcsname{##}\csname r@fil0\endcsname\csname r@sep0\endcsname%&\global\@eqcnt\@ne\tabskip\csname t@bsk1\endcsname\csname l@sep1\endcsname\csname l@fil1\endcsname{##}\csname r@fil1\endcsname\csname r@sep1\endcsname%&\global\@eqcnt\tw@\tabskip\csname t@bsk2\endcsname\csname l@sep2\endcsname\csname l@fil2\endcsname{##}\csname r@fil2\endcsname\csname r@sep2\endcsname%&\global\@eqcnt3   \tabskip\csname t@bsk3\endcsname\csname l@sep3\endcsname\csname l@fil3\endcsname{##}\csname r@fil3\endcsname\csname r@sep3\endcsname%&\global\@eqcnt4   \tabskip\csname t@bsk4\endcsname\csname l@sep4\endcsname\csname l@fil4\endcsname{##}\csname r@fil4\endcsname\csname r@sep4\endcsname%&\global\@eqcnt5   \tabskip\csname t@bsk5\endcsname\csname l@sep5\endcsname\csname l@fil5\endcsname{##}\csname r@fil5\endcsname\csname r@sep5\endcsname%&\global\@eqcnt6   \tabskip\csname t@bsk6\endcsname\csname l@sep6\endcsname\csname l@fil6\endcsname{##}\csname r@fil6\endcsname\csname r@sep6\endcsname%&\global\@eqcnt7   \tabskip\csname t@bsk7\endcsname\csname l@sep7\endcsname\csname l@fil7\endcsname{##}\csname r@fil7\endcsname\csname r@sep7\endcsname%&\global\@eqcnt8   \tabskip\csname t@bsk8\endcsname\csname l@sep8\endcsname\csname l@fil8\endcsname{##}\csname r@fil8\endcsname\csname r@sep8\endcsname%&\global\@eqcnt9   \tabskip\csname t@bsk9\endcsname\csname l@sep9\endcsname\csname l@fil9\endcsname{##}\csname r@fil9\endcsname\csname r@sep9\endcsname%&\global\@eqcnt10  \tabskip\csname t@bsk10\endcsname\csname l@sep10\endcsname\csname l@fil10\endcsname{##}\csname r@fil10\endcsname\csname r@sep10\endcsname%&\global\@eqcnt11  \tabskip\csname t@bsk11\endcsname\csname l@sep11\endcsname\csname l@fil11\endcsname{##}\csname r@fil11\endcsname\csname r@sep11\endcsname%&\global\@eqcnt12  \tabskip\csname t@bsk12\endcsname\csname l@sep12\endcsname\csname l@fil12\endcsname{##}\csname r@fil12\endcsname\csname r@sep12\endcsname\@lastsep%\tabskip\@righttabskip&\llap{##}\tabskip\z@\cr}%%\newcount\@nbcolumns % number of columsn in array computed from preamble of eqntabular%\newtoks\@@toksparam%\newcount\@@cla%%\def\@handleat(#1#2){%\setbox\@tempboxa\hbox{#1}%\ifnum\@heightat<\ht\@tempboxa\global\@heightat=\ht\@tempboxa\fi%\ifnum\@depthat<\dp\@tempboxa\global\@depthat=\dp\@tempboxa\fi%\@@toksparam={#1}% TeX ex. 20.15\ifnum\@nbcolumns>0%\ifnum\@lastchclass=4% @{...} to the left of current @{#1}\else%\ifnum\@lastchclass=9% | to the left of current @{#1}\else%\@@cla\@nbcolumns\advance\@@cla by-1%\global\expandafter\edef\csname r@sep\the\@@cla\endcsname{}%\fi%\fi%\fi%\global\expandafter\edef\csname l@sep\the\@nbcolumns\endcsname{\csname l@sep\the\@nbcolumns\endcsname\the\@@toksparam}%\global\@lastchclass=4\@par@countnbcolumns#2\@p@c@nil\let\@countnext\@@countnbcolumns}%%\def\@handlep(#1#2){%\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\setbox\@itembox\hbox\bgroup\vtop\bgroup\hbox\bgroup\vtop\bgroup\hsize #1\@arrayparboxrestore\ignorespaces\unhcopy\@itemleftstrutbox}%\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\unhcopy\@itemrightstrutbox\egroup\unskip\egroup\egroup\egroup\@putitem\hfil}%\@handlepnext#2\@nil}%%\def\@handlecapP(#1#2#3){%\if t#1\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\setbox\@itembox\hbox\bgroup\vtop\bgroup\hbox\bgroup\vtop\bgroup\hsize #2\@arrayparboxrestore\ignorespaces\unhcopy\@itemleftstrutbox}%\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\unhcopy\@itemrightstrutbox\egroup\unskip\egroup\egroup\egroup\@putitem\hfil}%\else\if c#1\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\setbox\@itembox\hbox\bgroup\hbox\bgroup$\vcenter\bgroup\hbox\bgroup\vbox\bgroup\hsize #2\@arrayparboxrestore\ignorespaces\unhcopy\@itemleftcenterstrutbox}%\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\unhcopy\@itemrightcenterstrutbox\egroup\unskip\egroup\egroup$\egroup\egroup\@putitem\hfil}%\else\if b#1\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\setbox\@itembox\hbox\bgroup\vbox\bgroup\hbox\bgroup\vbox\bgroup\hsize #2\@arrayparboxrestore\ignorespaces\unhcopy\@itemleftstrutbox}%\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\unhcopy\@itemrightstrutbox\egroup\unskip\egroup\egroup\egroup\@putitem\hfil}%\fi\fi\fi%\@handlepnext#3\@nil}%%\def\@handlepnext{\@ifnextchar[{\@@handlepnext}{\@@handlepnext[]}}%%\def\@@handlepnext[#1]#2\@nil{%\@@toksparam={#1}% TeX ex. 20.15\global\expandafter\edef\csname l@sep\the\@nbcolumns\endcsname{\csname l@sep\the\@nbcolumns\endcsname\the\@@toksparam}%\advance\@nbcolumns by1\@par@countnbcolumns#2\@p@c@nil\let\@countnext\@@countnbcolumns%}%%\def\@doublerulesep{\ifnum\@lastchclass=9% | to the left\@@toksparam={\hskip\doublerulesep}% TeX ex. 20.15\global\expandafter\edef\csname l@sep\the\@nbcolumns\endcsname{\csname l@sep\the\@nbcolumns\endcsname\the\@@toksparam}%\fi}%\def\@handlebar{%\@@toksparam={\hskip -.5\arrayrulewidth \vrule \@width \arrayrulewidth\hskip -.5\arrayrulewidth}% TeX ex. 20.15\global\expandafter\edef\csname l@sep\the\@nbcolumns\endcsname{\csname l@sep\the\@nbcolumns\endcsname\the\@@toksparam}}%%\def\@arraycolsep{%\ifnum\@lastchclass=4% @{...} to my left\else\@@toksparam={\hskip\arraycolsep}% TeX ex. 20.15\global\expandafter\edef\csname l@sep\the\@nbcolumns\endcsname{\csname l@sep\the\@nbcolumns\endcsname\the\@@toksparam}%\fi}%%\def\@handlehskip#1{%\if *#1\global\def\@righttabskip{\@centering}%\else%\ifnum\@nbcolumns=0\global\def\@lefttabskip{\@centering}%\else%\@tempcnta=\@nbcolumns\advance\@tempcnta by -1%\global\expandafter\def\csname t@bsk\the\@tempcnta\endcsname{\@centering}%\fi\fi}%%% analyze the preamble%% eval parameters of \@@countnbcolumns\def\@par@countnbcolumns#1\@p@c@nil{\expandafter\@@par@countnbcolumns#1\@p@c@nil}%% assign the 2 parameters of \@@countnbcolumns to global variables \@hdcnbcolspar and \@tlcnbcolspar\def\@@par@countnbcolumns#1#2\@p@c@nil{\global\def\@hdcnbcolspar{#1}\global\def\@tlcnbcolspar{#2}}%% version with parameters\def\@countnbcolumns#1\@cnbc@nil{\@par@countnbcolumns#1\@p@c@nil\@@countnbcolumns}%% version with global variables \@hdcnbcolspar and \@tlcnbcolspar\def\@@countnbcolumns{%\if *\@hdcnbcolspar\def\@lastsep{\csname l@sep\the\@nbcolumns\endcsname\ignorespaces}\let\@countnext\@void%\else\if r\@hdcnbcolspar\@arraycolsep\global\@lastchclass1\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\hfil\setbox\@itembox\hbox\bgroup$\copy\@itemleftstrutbox\displaystyle}\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\copy\@itemrightstrutbox$\egroup\@putitem}\advance\@nbcolumns by1\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\if \@hdcnbcolspar c\@arraycolsep\global\@lastchclass2\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\hfil\setbox\@itembox\hbox\bgroup$\copy\@itemleftstrutbox\displaystyle}\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\copy\@itemrightstrutbox$\egroup\@putitem\hfil}\advance\@nbcolumns by1\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\if l\@hdcnbcolspar\@arraycolsep\global\@lastchclass3\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\setbox\@itembox\hbox\bgroup$\copy\@itemleftstrutbox\displaystyle}\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\copy\@itemrightstrutbox$\egroup\@putitem\hfil}\advance\@nbcolumns by1\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\if @\@hdcnbcolspar\expandafter\@handleat\expandafter(\@tlcnbcolspar)%\else\if p\@hdcnbcolspar\@arraycolsep\global\@lastchclass5\expandafter\@handlep\expandafter(\@tlcnbcolspar)%\else\if P\@hdcnbcolspar\@arraycolsep\global\@lastchclass5\expandafter\@handlecapP\expandafter(\@tlcnbcolspar)%\else\if R\@hdcnbcolspar\@arraycolsep\global\@lastchclass6\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\hfil\setbox\@itembox\hbox\bgroup\vtop\bgroup\hbox\bgroup\@arrayparboxrestore\unhcopy\@itemleftstrutbox}\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\unskip\unhcopy\@itemrightstrutbox\egroup\egroup\egroup\@putitem}\advance\@nbcolumns by1\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\if C\@hdcnbcolspar\@arraycolsep\global\@lastchclass7\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\hfil\setbox\@itembox\hbox\bgroup\vtop\bgroup\hbox\bgroup\@arrayparboxrestore\unhcopy\@itemleftstrutbox}\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\unskip\unhcopy\@itemrightstrutbox\egroup\egroup\egroup\@putitem\hfil}\advance\@nbcolumns by1\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\if L\@hdcnbcolspar\@arraycolsep\global\@lastchclass8\global\expandafter\def\csname l@fil\the\@nbcolumns\endcsname{\setbox\@itembox\hbox\bgroup\vtop\bgroup\hbox\bgroup\@arrayparboxrestore\unhcopy\@itemleftstrutbox}\global\expandafter\def\csname r@fil\the\@nbcolumns\endcsname{\unskip\unhcopy\@itemrightstrutbox\egroup\egroup\egroup\@putitem\hfil}\advance\@nbcolumns by1\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\if |\@hdcnbcolspar\@doublerulesep\global\@lastchclass9\@handlebar\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\if h\@hdcnbcolspar\@handlehskip{\@tlcnbcolspar}\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\@@countnbcolumns%\else\@par@countnbcolumns\@tlcnbcolspar\@p@c@nil\let\@countnext\let\@countnext\@@countnbcolumns%\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi%\@countnext% either tail recursive call or end}%%\def\eqntabularstyle#1{\global\def\@defstyle{#1}}% redefine default style of eqnarray\eqntabularstyle{cr}% default style is cr%% \begin{eqntabular}%\@namedef{eqntabular}{\@ifnextchar[{\@eqntabular}{\expandafter\@eqntabular\expandafter[\@defstyle]}}%%\@namedef{@eqntabular}[#1]#2{%\@setitemboxes%\@eqntabularstyle[#1]% set the style of the table\par% end current paragraph\bgroup%\lineskip=0pt\baselineskip=-1000pt% avoid breaking vertical lines, see \offinterlineskip TeX p. 245\global\@hlinefirsttrue % next \hline will be after preamble\global\let\@oldhline=\hline% save LaTeX meaning of \hline \global\let\@oldcline=\cline% save LaTeX meaning of \cline \global\let\hline=\@newhline% give new meaning \@newhline to \hline \global\let\cline=\@newcline% give new meaning \@newcline to \cline% initialize tabskips, lsepi and rsepi on both sides of each item \@nbcolumns=0%\loop%\ifnum\@nbcolumns<13%\global\expandafter\def\csname t@bsk\the\@nbcolumns\endcsname{\z@}%\global\expandafter\def\csname l@sep\the\@nbcolumns\endcsname{}%\global\expandafter\def\csname r@sep\the\@nbcolumns\endcsname{\hskip\arraycolsep}%\advance\@nbcolumns by1%\repeat%% analyse the preamble\@nbcolumns=0%\global\@lastchclass=4% nothing to the left\@countnbcolumns#2*\@cnbc@nil%\ifnum\@nbcolumns<1 \@latexerr{Less than 1 column in eqntabular}{Add an empty column}\fi%\ifnum\@nbcolumns>13 \@latexerr{More than 13 columns in eqntabular}{Ask a wizard to modify eqntabular}\fi%% handle equation number\stepcounter{equation}%\let\@currentlabel=\theequation%\global\@eqnswtrue% may be set to false by \nonumber\global\@eqcnt\z@% to count the number of & encountered in a line (and add the missing ones)%\tabskip\@centering\let\\=\@eqncrcolumns% redefine what to do on end of line% built the preamble to the alignment, see TeX Ch. 22\ifcase\@nbcolumns\relax\or\@@@preambleone\or\@@@preambletwo\or\@@@preamblethree\or\@@@preamblefour\or\@@@preamblefive%\or\@@@preamblesix\or\@@@preambleseven\or\@@@preambleeight\or\@@@preamblenine\or\@@@preambleten\or\@@@preambleeleven\or\@@@preambletwelve\or\@@@preamblethirteen\else\relax\fi}%%\def\@eqncrcolumns{% on end of line adjust penalties \@eqpen for page breaking (* =  no page break){\ifnum0=`}\fi%\@ifstar{\global\@eqpen\@M\@yeqncrcolumns}{\global\@eqpen\interdisplaylinepenalty \@yeqncrcolumns}}%%\def\@yeqncrcolumns{\@ifnextchar [{\@xeqncrcolumns}{\@xeqncrcolumns[\z@]}}%%\def\@xeqncrcolumns[#1]{\ifnum0=`{\fi}%\@@eqncrcolumns{#1}{\jot}%\noalign{\penalty\@eqpen\relax}}%%\def\@equationnumber{\if@eqnsw\@eqnnum\stepcounter{equation}\fi}%%\def\@@eqncrcolumns#1#2{% end of line \\[#1] or 0pt and #2=\jot or 0pt for last line% Add missing &'s for equation number and for &-incomplete rows\let\@tempa\relax%\@@cla\@nbcolumns%\advance\@@cla by-1\advance\@@cla by-\@eqcnt%\ifcase\@@cla \def\@tempa{&}\or \def\@tempa{& &}%\or \def\@tempa{& & &} \or \def\@tempa{& & & &} \or \def\@tempa{& & & & &} %\or \def\@tempa{& & & & & &} \or \def\@tempa{& & & & & & &}%\or \def\@tempa{& & & & & & & &} \or \def\@tempa{& & & & & & & & &}%\or \def\@tempa{& & & & & & & & & &} \or\def\@tempa{& & & & & & & & & & &}%\else \def\@tempa{& & & & & & & & & & & &}\fi%\@tempa%% place strut before equation number\ifnum\@heightitem<\@heightat\@heightitem=\@heightat\fi%\ifnum\@depthitem<\@depthat\@depthitem=\@depthat\fi%\@tempdima=\@depthitem%\advance\@tempdima by#1%\@tempdimb=\@tempdima%\advance\@tempdimb by#2%\global\setbox\@arstrutbox=\hbox{\vrule height\@heightitem depth0pt width\@widtharstrutbox% show height\vrule height\@heightitem depth\@depthitem width\@widtharstrutbox% show depth\vrule height\@heightitem depth\@tempdima width\@widtharstrutbox% show #1, i.e. extra vertical space\vrule height\@heightitem depth\@tempdimb width\@widtharstrutbox% show #2, i.e. jot}%\@arstrut\@equationnumber%%\global\@eqnswtrue\global\@eqcnt\z@% for next line\crcr}%% \hline\def\@newhline{\if@eqnhline\noalign{\if@hlinefirst\penalty\@M\else\penalty-\@highpenalty\fi\vskip\doublerulesep}% between two successive \eqnline is a good place for page break\fi\multispan\@nbcolumns%\unskip\leaders\hrule \@height \arrayrulewidth \hfill&\multispan1%\cr\noalign{\if@hlinefirst\penalty\@M% no page break after \eqnline following the preamble\else\if@eqnhline\penalty\@M% no page break after the second consecutive \eqnline\else\penalty0%  page break allowed after \eqnline if possible\fi\fi\relax\global\@eqnhlinetrue}}%% \cline\def\@newcline{\noalign{\global\@eqnhlinetrue}\@oldcline}%%\def\@crcr{\crcr}% to hide \crcr in an \if%% \end{eqntabular}%\@namedef{endeqntabular}{\if@eqnhline% \hline or \cline before \end{eqntabular}\@crcr%\else%\global\setbox\@arstrutbox=\hbox{\vrule height\@heightitem depth0pt width\@widtharstrutbox\vrule height\@heightitem depth\@depthitem width\@widtharstrutbox\vrule height\@heightitem depth\@depthitem width\@widtharstrutbox\vrule height\@heightitem depth\@depthitem width\@widtharstrutbox}%\@@eqncrcolumns{\z@}{\z@}% last line without \\[extra vertical space] nor \jot interline space\fi%\egroup\global\advance\c@equation\m@ne$$%\global\@ignoretrue%\egroup%\global\let\hline=\@oldhline% reset LaTeX \hline\global\let\cline=\@oldcline% reset LaTeX \cline}%% Here's the eqntabular* environment:%\let\@seqncrcolumns=\@eqncrcolumns%\@namedef{eqntabular*}{\def\@eqncrcolumns{\nonumber\@seqncrcolumns}\eqntabular}%\@namedef{endeqntabular*}{\if@eqnhline\endeqntabular\else\nonumber\endeqntabular\fi}%%% added 14 november 1998% \eqntabularitem{$\bullet$} : itemize with $\bullet$ flushed to the % left margin (overlapping what is there).%\let\eqntabular@equationnumber\@equationnumber%\def\eqntabularitem#1{%\global\def\border@equationnumber{%\global\let\@equationnumber\eqntabular@equationnumber%\@equationnumber%\hbox to .01\p@{}\rlap{\hskip -\displaywidth#1}%}%\global\let\@equationnumber\border@equationnumber}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%